{"version":3,"sources":["Reducers.js","user/Register.js","user/Login.js","user/UserBar.js","todo/CreateTodo.js","Header.js","pages/HeaderBar.js","todo/Todo.js","todo/TodoList.js","pages/HomePage.js","pages/TodoPage.js","MyTodoApp.js","index.js","Contexts.js"],"names":["userReducer","state","action","type","username","access_token","undefined","todoReducer","id","title","author","description","completed","dateCompleted","map","t","i","todoId","filter","todos","appReducer","user","Register","show","handleClose","dispatch","useContext","StateContext","useState","password","passwordRepeat","formData","setFormData","setStatus","useResource","url","method","data","register","useEffect","isLoading","error","console","log","alert","Modal","onHide","Form","onSubmit","e","preventDefault","Header","closeButton","Title","Body","Label","htmlFor","Control","value","onChange","target","name","Footer","Button","variant","onClick","disabled","length","Login","setUsername","setPassword","loginFailed","setLoginFailed","login","evt","Text","style","color","Userbar","Logout","React","lazy","showLogin","setShowLogin","showRegister","setShowRegister","className","CreateTodo","setTitle","setDescription","navigation","useNavigation","headers","todo","createTodo","navigate","text","href","Navbar","Brand","HeaderBar","bg","expand","Container","Toggle","Collapse","Nav","Link","Suspense","fallback","Todo","short","setCompleted","Date","now","setDateCompleted","encodeURI","toggled","toggleTodo","deleteTodo","processedDescription","substring","Card","Subtitle","toDateString","Check","TodoList","key","HomePage","getTodos","TodoPage","getTodo","MyTodoApp","useReducer","routes","mount","route","view","req","params","Provider","axiosInstance","axios","create","baseURL","ReactDOM","render","StrictMode","document","getElementById","createContext"],"mappings":"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","file":"static/js/main.e30a8ad3.chunk.js","sourcesContent":["function userReducer (state, action) {\r\n    switch (action.type) {\r\n        case \"LOGIN\":\r\n        case \"REGISTER\":\r\n            return {\r\n            \"username\": action.username,\r\n            \"access_token\": action.access_token\r\n            }\r\n        case \"LOGOUT\":\r\n            return {\r\n            \"username\": undefined,\r\n            \"access_token\": undefined\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction todoReducer (state, action) {\r\n    switch (action.type) {\r\n        case \"CREATE_TODO\":\r\n            const newTodo = {\r\n                id: action.id,\r\n                title: action.title,\r\n                author: action.author,\r\n                description: action.description,\r\n                completed: false,\r\n                dateCompleted: undefined\r\n            }\r\n            return [newTodo, ...state]   \r\n        case \"TOGGLE_TODO\":\r\n            return state.map( (t, i) => {\r\n                if (i === action.todoId) {\r\n                    t.completed = action.completed;\r\n                    //t.dateCompleted = Date.now();\r\n                    //console.log(t);\r\n                }\r\n                return t;\r\n            })\r\n        case \"DELETE_TODO\":\r\n\t\t\t// return state.filter((t) => t.id !== action.todoId)\r\n            return state.filter( (t, i) => i !== action.todoId)\r\n        case \"FETCH_TODOS\":\r\n            return action.todos\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default function appReducer (state, action) {\r\n    return {\r\n        user: userReducer(state.user, action),\r\n        todos: todoReducer(state.todos, action)\r\n    }\r\n}","import React, {useState, useContext, useEffect} from \"react\"\r\nimport {StateContext} from \"../Contexts\"\r\nimport {useResource} from \"react-request-hook\"\r\nimport {Modal, Form, Button} from \"react-bootstrap\"\r\n\r\nexport default function Register ( {show, handleClose} ) {\r\n    \r\n    const {dispatch} = useContext(StateContext)\r\n    \r\n    const [formData, setFormData] = useState(\r\n        {username: \"\", password: \"\", passwordRepeat: \"\"}\r\n    )\r\n\r\n    const [status, setStatus] = useState(\"\")\r\n\r\n    const [user, register] = useResource((username, password) => ({\r\n      url: \"auth/register\",\r\n      method: \"post\",\r\n      data: { username, password, \"passwordRepeat\": password }\r\n    }))\r\n\r\n    useEffect(() => {\r\n        if (user && user.data) {\r\n            dispatch( {type: \"REGISTER\", username: user.data.username} )\r\n        }\r\n    }, [user])\r\n\r\n    useEffect(() => {\r\n        if (user && user.isLoading === false && (user.data || user.error)) {\r\n            if (user.error) {\r\n                console.log(user)\r\n                setStatus(\"Registration failed, please try again later.\")\r\n                alert(\"fail\")\r\n            } else {\r\n                console.log(user)\r\n                setStatus(\"Registration successful. You may now login.\")\r\n                alert(\"success\")\r\n            }\r\n            //dispatch({ type: 'REGISTER', username: user.data.username })\r\n          }\r\n        }, [user])\r\n\r\n    return (\r\n        <Modal show={show} onHide={handleClose}>\r\n        <Form onSubmit={e => { e.preventDefault(); register(formData.username, formData.password); handleClose(); }}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Registration Page</Modal.Title></Modal.Header>\r\n            <Modal.Body>\r\n                <Form.Label htmlFor=\"register-username\">Username:</Form.Label>\r\n                <Form.Control type=\"text\" value={formData.username} onChange={e => setFormData({ ...formData, username: e.target.value })} name=\"register-username\" id=\"register-username\" />\r\n                <Form.Label htmlFor=\"register-password\">Password:</Form.Label>\r\n                <Form.Control type=\"password\" name=\"register-password\" id=\"register-password\" value={formData.password} onChange={e => setFormData({ ...formData, password: e.target.value })} />\r\n                <Form.Label htmlFor=\"register-password-repeat\">Repeat password:</Form.Label>\r\n                <Form.Control type=\"password\" name=\"register-password-repeat\" id=\"register-password-repeat\" value={formData.passwordRepeat} onChange={e => setFormData({ ...formData, passwordRepeat: e.target.value })} />\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={handleClose}>Cancel</Button>\r\n                <Button variant=\"primary\" type=\"submit\" disabled={formData.username.length === 0 || formData.password.length === 0 || formData.password !== formData.passwordRepeat}>Register</Button>\r\n            </Modal.Footer>\r\n        </Form>\r\n        </Modal>\r\n  )\r\n}","import React, {useState, useContext, useEffect} from \"react\"\r\nimport {StateContext} from \"../Contexts\"\r\nimport {useResource} from \"react-request-hook\"\r\nimport {Modal, Form, Button} from \"react-bootstrap\"\r\n\r\nexport default function Login ( {show, handleClose} ) {\r\n    \r\n    const {dispatch} = useContext(StateContext)\r\n    const [username, setUsername] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [loginFailed, setLoginFailed] = useState(false)\r\n    function handleUsername(evt) { setUsername(evt.target.value) }\r\n    function handlePassword (evt) { setPassword(evt.target.value) }\r\n\r\n    const [user, login] = useResource((username, password) => ({\r\n                url: \"auth/login\",\r\n                method: \"post\",\r\n                data: {username, password}\r\n    }))\r\n        \r\n    useEffect(() => {\r\n        if (user && user.isLoading === false && (user.data || user.error)) {\r\n            if (user.error) {\r\n                setLoginFailed(true)\r\n                alert(\"failed\")\r\n                } else {\r\n                    setLoginFailed(false)\r\n                    console.log(user.data)\r\n                    dispatch( { type: \"LOGIN\", username, access_token: user.data.access_token } )          \r\n                }\r\n            } \r\n    }, [user])\r\n\r\n    return (\r\n    <Modal show={show} onHide={handleClose}>\r\n    <Form onSubmit={e => { e.preventDefault(); login(username, password); handleClose() }}>\r\n        <Modal.Header closeButton>\r\n            <Modal.Title>Login Page</Modal.Title></Modal.Header>\r\n        <Modal.Body>\r\n            <Form.Label htmlFor=\"login-username\">Username:</Form.Label>\r\n            <Form.Control type=\"text\" value={username} onChange={handleUsername} name=\"login-username\" id=\"login-username\" />\r\n            <Form.Label htmlFor=\"login-password\">Password:</Form.Label>\r\n            <Form.Control type=\"password\" value={password} onChange={handlePassword} name=\"login-password\" id=\"login-password\" />\r\n            {loginFailed && <Form.Text style={{ color: \"red\" }}>Invalid username or password</Form.Text>}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={handleClose}>Cancel</Button>\r\n            <Button variant=\"primary\" disabled={username.length === 0} type=\"submit\">Login</Button>\r\n        </Modal.Footer>\r\n    </Form>\r\n    </Modal>\r\n    )\r\n}","import React, {useState, useContext} from \"react\"\r\nimport Register from \"./Register\"\r\nimport Login from \"./Login\"\r\nimport {StateContext} from \"../Contexts\"\r\nimport {Button} from \"react-bootstrap\"\r\n\r\nexport default function Userbar () {\r\n\r\n    const Logout = React.lazy( ()=> import(\"./Logout\"))\r\n    const {state} = useContext(StateContext)\r\n    const [showLogin, setShowLogin] = useState(false)\r\n    const [showRegister, setShowRegister] = useState(false)\r\n\r\n    if (state.user.username && !state.loginFailed) {\r\n        return <Logout/>\r\n    } else {\r\n        return (\r\n        <div className=\"justify-content-end\">\r\n            <Button variant=\"link\" onClick={(e) => setShowLogin(true)}>\r\n                Login</Button>\r\n            <Login show={showLogin} handleClose={() => setShowLogin(false)}/>                \r\n            <Button variant=\"link\" onClick={(e) => setShowRegister(true)}>\r\n                Register</Button>\r\n            <Register show={showRegister} handleClose={() => setShowRegister(false)}/>\r\n        </div>\r\n        )\r\n    }\r\n}","import React, {useState, useContext, useEffect} from \"react\"\r\nimport { StateContext } from \"../Contexts\"\r\nimport { useResource } from \"react-request-hook\"\r\nimport { useNavigation } from \"react-navi\"\r\n\r\nexport default function CreateTodo () {\r\n\r\n    const [title, setTitle] = useState(\"\")\r\n    const [description, setDescription] = useState(\"\")\r\n    const navigation = useNavigation()\r\n    const {state, dispatch} = useContext(StateContext)\r\n    const {user} = state;\r\n    const [todo, createTodo ] = useResource(( {title, description, author} ) => ({\r\n                url: '/todo',\r\n                method: 'post',\r\n                headers: {\"Authorization\": `${state.user.access_token}`},\r\n                data: {title, description, author}\r\n    }))\r\n\r\n    function handleTitle(evt) { setTitle(evt.target.value) }\r\n    function handleDescription(evt) { setDescription(evt.target.value) }\r\n    function handleCreate() {\r\n        createTodo( {title, description, author: user.username} )\r\n    }\r\n\r\n    useEffect( () => {\r\n        if (todo && todo.data) {\r\n            dispatch( {type: \"CREATE_TODO\", title: todo.data.title, description: todo.data.description, id: todo.data.id, author: user.username} )\r\n            console.log(todo.data)\r\n            navigation.navigate(`/todo/${todo.data.id}`)\r\n        }\r\n    }, [todo])\r\n\r\n    return (\r\n        <form onSubmit={e=>{ e.preventDefault(); handleCreate() } }>\r\n            <h3>Create Todo: </h3>\r\n            <div><b>Author:</b> {user.username}</div>\r\n            <div>\r\n                <label htmlFor=\"create-todo-title\"><b>Title:</b> </label>\r\n                <input type=\"text\" name=\"create-todo-title\" id=\"create-todo-title\" value={title} onChange={handleTitle} />\r\n            </div>\r\n            <div>\r\n                <label htmlFor=\"create-todo-description\"><b>Description:</b> </label>\r\n                <textarea name=\"create-todo-description\" id=\"create-todo-description\" value={description} onChange={handleDescription} />\r\n            </div>\r\n            <input type=\"submit\" value=\"Create\"/>\r\n        </form>   \r\n    )\r\n }","import React, {useContext} from \"react\"\r\nimport {Link} from \"react-navi\"\r\nimport {Navbar} from \"react-bootstrap\"\r\n\r\nconst Header = ( {text} ) => {\r\n    return (\r\n        <Link href=\"/\"><Navbar.Brand>{text}</Navbar.Brand></Link>\r\n    )\r\n}\r\n\r\nexport default Header","import React, {useContext} from \"react\"\r\nimport UserBar from \"../user/UserBar\"\r\nimport CreateTodo from \"../todo/CreateTodo\"\r\nimport Header from \"../Header\"\r\nimport {StateContext} from \"../Contexts\"\r\nimport {Link} from \"react-navi\"\r\nimport {Navbar, Nav, Container} from \"react-bootstrap\"\r\n\r\nexport default function HeaderBar () {\r\n\r\n    const{state} = useContext(StateContext)\r\n    const{user} = state\r\n    return (\r\n        <Navbar bg=\"light\" expand=\"lg\">\r\n        <Container>\r\n            <Navbar.Brand href=\"/\"><Header text=\"My Todos\" /></Navbar.Brand>\r\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className=\"me-auto\">\r\n                {user.username && <Nav.Link><Link href=\"/todo/create\">Create New Todo</Link></Nav.Link>}</Nav>\r\n            <React.Suspense fallback={\"Loading...\"}>\r\n            <UserBar /></React.Suspense>\r\n            </Navbar.Collapse>\r\n        </Container>\r\n        </Navbar>\r\n    )\r\n}","import React, {useState, useContext, useEffect} from \"react\"\r\nimport {StateContext} from \"../Contexts\"\r\nimport {useResource} from \"react-request-hook\"\r\nimport {Link} from \"react-navi\"\r\nimport {Card, Button, Form} from \"react-bootstrap\"\r\n\r\nexport default function Todo ( {title, author, description, todoId, short=false} ) {\r\n\r\n    const {dispatch} = useContext(StateContext)\r\n\t//\tget rid of Set methods\r\n    const [completed, setCompleted] = useState(true)\r\n    const [dateCompleted, setDateCompleted] = useState(Date.now())\r\n    const [toggled, toggleTodo] = useResource( () => ( {\r\n        url: `/todos/${encodeURI(todoId)}`,\r\n        method: \"patch\",\r\n        data: {completed, dateCompleted}\r\n    }))\r\n    useEffect(() => {\r\n\t\t//\tget rid of Set method\r\n        setDateCompleted(Date.now);\r\n\t\t//if (deleted && deleted .data && deleted.isLoading === false) ... then dispatch\r\n        dispatch( {type: \"TOGGLE_TODO\", todoId: todoId, completed: completed, dateCompleted: dateCompleted} )\r\n    }, [toggled])\r\n    //\r\n    const [deleted, deleteTodo] = useResource( () => ( {\r\n        url: `/todos/${encodeURI(todoId)}`,\r\n        method: \"delete\"\r\n    }))\r\n    // useEffect(() => {\r\n        // if (deleted && deleted.data && deleted.isLoading === false) {\r\n            // dispatch({type: 'DELETE_TODO', todoId: todoId})\r\n        // }\r\n    // }, [deleted])\r\n\r\n    let processedDescription = description\r\n    if (short) {\r\n        if (description.length > 30) {\r\n            processedDescription = description.substring(0, 30) + \"...\"\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Card>\r\n            <Card.Body>\r\n                <Card.Title>\r\n                    <Link href={`/todo/${todoId}`}>{title}</Link></Card.Title>\r\n                <Card.Subtitle>\r\n                    Date Created: {new Date().toDateString()}\r\n                    {!completed && <div>Date Completed: {new Date(dateCompleted).toDateString()}</div>}\r\n                </Card.Subtitle>\r\n                <Card.Text>\r\n                    {processedDescription}</Card.Text>\r\n                    {short && <Link href={`/todo/${todoId}`}>View full todo</Link>}\r\n            </Card.Body>\r\n            <Button \r\n                onClick={e => { \r\n                    deleteTodo()\r\n                    dispatch( {type: \"DELETE_TODO\", todoId: todoId} )\r\n                }}>\r\n                Delete Todo</Button>\r\n            <Form.Label>Completed:\r\n                <Form.Check type=\"checkbox\" onClick={e => {setCompleted(!completed); toggleTodo()}}/></Form.Label>\r\n        </Card>\r\n    )\r\n}\r\n            ","import React, {useContext} from \"react\"\r\nimport Todo from \"./Todo\"\r\nimport {StateContext} from \"../Contexts\"\r\n\r\nexport default function TodoList () {\r\n    \r\n    const {state} = useContext(StateContext)\r\n    const {todos} = state\r\n\r\n    return (\r\n        <div>\r\n            Todo List\r\n            {todos.map((t, i)=><Todo {...t} short={true} title={t.title} author={t.author} key={\"todo-\"+i} todoId={t.id}/>)}\r\n        </div>\r\n    )\r\n}","import React, {useEffect, useContext} from \"react\"\r\nimport {StateContext} from \"../Contexts\"\r\nimport {useResource} from \"react-request-hook\"\r\nimport TodoList from \"../todo/TodoList\"\r\n\r\nexport default function HomePage () {\r\n\r\n    const {state, dispatch} = useContext(StateContext)\r\n    const [todos, getTodos] = useResource( () => ( {\r\n        url: \"/todo\",\r\n        method: \"get\",\r\n\t\theaders: {\"Authorization\": `${state.user.access_token}`}\r\n    }))\r\n    useEffect(() =>{\r\n\t\tgetTodos()\r\n\t}, [state.user.access_token])\r\n\t\r\n    //  todos.data.reverse()?\r\n    useEffect( () => {\r\n        if (todos && todos.isLoading === false && todos.data) {\r\n            dispatch( {type: \"FETCH_TODOS\", todos: todos.data.todos } )\r\n        }\r\n    }, [todos])\r\n\r\n    const {data, isLoading} = todos;\r\n    return (\r\n        <div>\r\n            {isLoading && \"Todos loading...\"} <TodoList/>\r\n        </div>\r\n    )\r\n}","import React, {useEffect, useContext} from \"react\"\r\nimport {useResource} from \"react-request-hook\"\r\nimport {StateContext} from \"../Contexts\"\r\nimport Todo from \"../todo/Todo\"\r\nimport {Link} from \"react-navi\"\r\n\r\nexport default function TodoPage ( {id} ) {\r\n\r\n    const {state} = useContext(StateContext)\r\n\r\n    const [todo, getTodo] = useResource( () => ({\r\n        url: `/todo/${id}`,\r\n        headers: {\"Authorization\": `${state.user.access_token}`},\r\n        method: \"get\"\r\n    }))\r\n\t\r\n    useEffect(getTodo, [id])\r\n\r\n    return (\r\n        <div>\r\n            { (todo && todo.data)\r\n                ? <Todo {...todo.data}/>\r\n                : \"Loading...\"\r\n            }\r\n            <div><Link href=\"/\">Go back</Link></div>\r\n        </div>\r\n    )\r\n\r\n}","import React, {useState, useReducer, useEffect} from \"react\"\r\nimport appReducer from \"./Reducers\"\r\nimport {StateContext} from \"./Contexts\"\r\nimport HeaderBar from \"./pages/HeaderBar\"\r\nimport HomePage from \"./pages/HomePage\"\r\nimport CreateTodo from \"./todo/CreateTodo\"\r\nimport {Router, View} from \"react-navi\"\r\nimport {mount, route} from \"navi\"\r\nimport TodoPage from \"./pages/TodoPage\"\r\nimport {Container, Row, Col} from \"react-bootstrap\"\r\n//import \"bootstrap/dist/css/bootstrap.min.css\"\r\n\r\nfunction MyTodoApp () {\r\n\r\n    const [state, dispatch] = useReducer(appReducer, { user: {}, todos: [] } )\r\n    const {user} = state\r\n\r\n    const routes = mount ({\r\n        \"/\": route( {view: <HomePage/>} ),\r\n        \"/todo/create\": route( {view: <CreateTodo/>} ),\r\n        \"/todo/:id\": route(req => {\r\n            return {view: <TodoPage id={req.params.id}/>}\r\n        }),\r\n    })\r\n\r\n    return (\r\n\t\t<div>\r\n\t\t\t<StateContext.Provider value={ {state: state, dispatch: dispatch} }>\r\n                <Router routes={routes}>\r\n                    <Container>\r\n                        <HeaderBar/>\r\n                        <View/>\r\n                    </Container>\r\n                </Router> \r\n\t\t\t</StateContext.Provider>\r\n\t\t</div>\r\n    )\r\n}\r\n\r\nexport default MyTodoApp;\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport MyTodoApp from \"./MyTodoApp\"\r\nimport {RequestProvider} from \"react-request-hook\"\r\nimport axios from \"axios\"\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: \"/\"\r\n})\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n    <RequestProvider value={axiosInstance}>\r\n        <MyTodoApp/>\r\n    </RequestProvider>\r\n    </React.StrictMode>,\r\n    document.getElementById(\"root\")\r\n);","import React from \"react\"\r\n\r\nexport const StateContext = React.createContext( {\r\n    state: {},\r\n    dispatch: () => {}\r\n})"],"sourceRoot":""}